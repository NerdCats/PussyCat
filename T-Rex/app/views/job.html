<div class="title">
    <h1>{{job.Name}}</h1>
    <p>Requested {{ requestedAgo }} ago</p>
    <div class="horizontal">
        <p><b>This Order is {{job.State}} now</b></p> 
    </div>
</div>
<article id="container" layout="row" layout-xs="column" layout-sm="column">
     
    <div id="order-details"  flex>
    	<md-card>
            <md-card-title>
                <md-card-title-text>
                    <span class="md-headline">Details</span>
                </md-card-title-text>
            </md-card-title>
            <md-card-content>                                                             
                
                <div layout="row">
                    <div flex="25"><b>Order ID</b></div>
                    <div> {{OrderDetails.OrderId}}</div>
                </div> 
                
                <div layout="row">
                    <div flex="25"><b>User</b></div>
                    <div> {{OrderDetails.UserName}}</div>
                </div>
                <div layout="row">
                    <div flex="25"><b>Phone</b></div>
                    <div> {{OrderDetails.PhoneNumber}}</div>
                </div>
                <div layout="row">
                    <div flex="25"><b>Order</b></div>
                    <div> {{OrderDetails.OrderType}}</div>
                </div>
                <div layout="row">
                    <div flex="25"><b>ETA</b></div>
                    <div> {{OrderDetails.eta}}</div>
                </div>                  
            </md-card-content>
        </md-card>

        <md-card>
            <md-card-title>
                <md-card-title-text>
                    <span class="md-headline">Asset</span>                                                
                </md-card-title-text>
                <div layout="column">                                                   
                    <md-menu md-offset="0 -7">
                        <md-button aria-label="Open demo menu" class="md-icon-button" ng-click="$mdOpenMenu($event)">
                            <span><img src="content/img/ic_settings.png"></span>
                        </md-button>
                        <md-menu-content width="2">
                            <md-menu-item ng-repeat="item in assignAsset">
                                <md-button ng-click="assetAssignPopup($event)" flex="100"  flex-gt-md="auto">
                                    <span md-menu-align-target></span> {{item}} 
                                </md-button>
                                <div hide-gt-sm layout="row" layout-align="center center" flex="100">
							        <md-checkbox ng-model="customFullscreen" aria-label="Fullscreen Custom Dialog">Custom Dialog Fullscreen</md-checkbox>
								</div>
                            </md-menu-item>
                        </md-menu-content>
                    </md-menu>
                </div>   
            </md-card-title>
            <md-card-content>
                <md-list>                    
                    <md-list-item ng-repeat="asset in Assets" ng-click="locateMarkerOnMap(asset)">
                        <img alt="{{ asset.title }}" ng-src="{{ asset.photo }}" class="md-avatar" />
                        <p>{{ asset.title }}</p>
                        <md-icon md-svg-icon="communication:messenger" ng-click="doSecondaryAction($event)" aria-label="locate asset on map" class="md-secondary md-hue-3"></md-icon>
                    </md-list-item>
                </md-list>
            </md-card-content>
        </md-card>
        
        <md-card>
            <md-card-title>
                <md-card-title-text>
                    <span class="md-headline">This Order is Currently Serving by</span>
                </md-card-title-text>
            </md-card-title>
            <md-card-content>
                <p>{{servingby.name}}</p>
            </md-card-content>
        </md-card>	                                
    </div>

    <div id="from-to"  flex>
        <md-list>
            <md-list-item  ng-repeat="(key, task) in jobTasks track by $index">
                <md-card flex="95">
                    <md-card-actions layout-align="end center">
                        <md-card-title>
                            <md-card-title-text layout="row" flex="100">
                                <span class="md-title" flex="70">{{task.title}}</span>                                
                                <div layout="column" flex="30">                            
                                    <md-menu md-offset="0 -7">
                                        <md-button aria-label="Open demo menu" ng-click="$mdOpenMenu($event)">
                                            <span>{{task.state}}</span>
                                        </md-button>
                                        <md-menu-content width="2">
                                            <md-menu-item ng-repeat="item in jobTaskStates">
                                                <md-button ng-click="task.stateChanged(item)" ng-model="state.jobTaskStates"><span md-menu-align-target></span> {{item}} </md-button>
                                            </md-menu-item>
                                        </md-menu-content>
                                    </md-menu>
                                </div>
                            </md-card-title-text>                                                  
                        </md-card-title>
                        <md-card-content>
                            <div layout="row">
                                <div flex="35"><b>Start Time</b></div>
                                <div>{{task.startDate}}, {{task.startTime}}</div>
                            </div>
                            <div layout="row">
                                <div flex="35"><b>Completion Time</b></div>
                                <div>{{task.completionDate}}, {{task.completionTime}}</div>
                            </div>
                            <div layout="row" ng-show="task.haveLocation">
                                <div flex="35"><b>Address</b></div>
                                <div>{{task.address}}</div>
                            </div>                       
                        </md-card-content>
                        <md-button ng-click="locateMarkerOnMap(task)" ng-show="task.haveLocation">Locate on Map</md-button>
                    </md-card-actions>
                </md-card>
            </md-list-item>
        </md-list>         
    </div>

    <div id="job-map" style="height: 600px;" flex></div>					 
</article>		